(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),a=n(9),r=n.n(a),s=(n(38),n(39),n(4)),d=(n(40),n(41),n(17)),o=n(33),l=n(11),j=n(1);var p=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],a=function(){return i(!1)};return Object(j.jsxs)("div",{id:"info-btn-box",children:[Object(j.jsx)("div",{onClick:function(){return i(!0)},children:Object(j.jsx)(l.c,{variant:"primary",className:"text-primary info-button"})}),Object(j.jsxs)(d.a,{show:n,onHide:a,children:[Object(j.jsx)(d.a.Header,{closeButton:!0,children:Object(j.jsx)(d.a.Title,{children:"Having trouble finding a city?"})}),Object(j.jsxs)(d.a.Body,{children:[Object(j.jsx)("p",{className:"modal-text-one",children:"Try adding state and country codes:"}),Object(j.jsxs)("p",{className:"modal-text-two",children:[Object(j.jsx)("b",{children:"E.g."})," London, OH, US"]})]}),Object(j.jsx)(d.a.Footer,{children:Object(j.jsx)(o.a,{variant:"primary",onClick:a,children:"Close"})})]})]})},b=n(24),h=(n(45),{"01d":n.p+"static/media/01d.b958e2d6.jpg","01n":n.p+"static/media/01n.5f7b0e00.jpg","02d":n.p+"static/media/02d.b9b25631.jpg","02n":n.p+"static/media/02n.3a2b7545.jpg","03d":n.p+"static/media/03d.18381d94.jpg","03n":n.p+"static/media/03n.7d034923.jpg","04d":n.p+"static/media/04d.63324b70.jpg","04n":n.p+"static/media/04n.6719b915.jpg","09d":n.p+"static/media/09d.6a35e260.jpg","09n":n.p+"static/media/09n.35a21007.jpg","10d":n.p+"static/media/10d.e95daa82.jpg","10n":n.p+"static/media/10n.22cd59d5.jpg","11d":n.p+"static/media/11d.83baf7f5.jpg","11n":n.p+"static/media/11n.b2fef53c.jpg","13d":n.p+"static/media/13d.8fb5bc7c.jpg","13n":n.p+"static/media/13n.37063edb.jpg","50d":n.p+"static/media/50d.0189d69b.jpg","50n":n.p+"static/media/50n.49f36f63.jpg"}),u=function(e,t,n){if("date+time"===e){var c;c=null===t?(new Date).getTime()+1e3*n:1e3*(t+n);var i=new Date(c).toUTCString(),a=i.slice(0,-13),r=i.substring(i.length-12,i.length);return a.slice(0,-5)+", "+r.slice(0,-7)}if("date"===e||"time"===e){var s=new Date(1e3*(t+n)).toUTCString();return"date"===e?s.slice(0,-18):s.slice(0,-7).substring(17)}},x=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},m=function(e){return Math.round(e)},O=function(e){return(3.6*e).toFixed(1)},f=function(e){return(100*e).toFixed(0)};n(46);var g=function(e){var t=e.type,n=e.log;return"fetch-error"===t?Object(j.jsxs)("div",{id:"error-container",children:[Object(j.jsx)("div",{id:"error-title",className:"d-flex text-danger",children:Object(j.jsx)("h4",{children:"Oops!"})}),Object(j.jsx)("p",{className:"text-danger",children:"There was an error loading your data."}),Object(j.jsx)("p",{className:"text-danger",children:"Please try again later."})]}):"api-error"===t?Object(j.jsxs)("div",{id:"error-container",children:[Object(j.jsx)("div",{id:"error-title",className:"d-flex text-danger",children:Object(j.jsx)("h4",{children:"Oops!"})}),Object(j.jsx)("p",{className:"text-danger",children:"There was an error loading your data."}),Object(j.jsxs)("p",{className:"text-danger",children:["Error ",n.cod,": ",n.message]})]}):void 0},w=n(28),v=n(31);var y=function(e){var t=e.search,n=e.passInfo,i=Object(c.useState)(!0),a=Object(s.a)(i,2),r=a[0],d=a[1],o=Object(c.useState)(null),p=Object(s.a)(o,2),f=p[0],y=p[1],N=Object(c.useState)([]),S=Object(s.a)(N,2),k=S[0],C=S[1];if(Object(c.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?"+t+"&units=metric&lang=en&appid=a47d813909379619933fa6f22cd9bfd7").then((function(e){return e.json()})).then((function(e){C([].concat(Object(b.a)(k),[e])),console.log(e)})).catch((function(e){y(e)})).finally((function(){d(!1)}))}),[]),r)return null;if(f||!Array.isArray(k))return Object(j.jsx)(g,{type:"fetch-error",log:null});if(200!==k[0].cod)return Object(j.jsx)(g,{type:"api-error",log:k[0]});var W={backgroundImage:"url("+h[k[0].weather[0].icon]+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",color:"black"},_={backgroundImage:"url("+h[k[0].weather[0].icon]+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",color:"white"};return Object(j.jsxs)("div",{id:"current",children:[Object(j.jsx)("div",{id:"current-title",className:"d-flex",children:Object(j.jsxs)("h4",{children:["Weather Now in ",k[0].name,", ",k[0].sys.country]})}),Object(j.jsxs)("div",{id:"current-content",style:/d$/.test(k[0].weather[0].icon)?W:_,onLoad:function(){return n(t,k[0].name,k[0].sys.country,k[0].coord.lat,k[0].coord.lon)},children:[Object(j.jsxs)("div",{id:"current-header",children:[Object(j.jsx)("p",{id:"current-description",children:x(k[0].weather[0].description)}),Object(j.jsx)("p",{id:"current-time",children:u("date+time",null,k[0].timezone)})]}),Object(j.jsxs)("div",{id:"current-img-temp",className:"d-flex",children:[Object(j.jsx)("img",{src:"http://openweathermap.org/img/wn/"+k[0].weather[0].icon+"@2x.png",alt:"icon"+k[0].weather[0].icon}),Object(j.jsxs)("h1",{children:[m(k[0].main.temp)," \xb0C"]}),Object(j.jsxs)("p",{children:["feels like ",m(k[0].main.feels_like)," \xb0C"]})]}),Object(j.jsxs)("div",{id:"current-conditions",className:"d-flex flex-column align-items-center",children:[Object(j.jsxs)("div",{id:"humidity-wind",className:"d-flex",children:[Object(j.jsxs)("p",{id:"humidity-wind-one",children:[Object(j.jsx)(w.a,{className:"current-icon"}),"Humidity: ",k[0].main.humidity," %"]}),Object(j.jsxs)("p",{id:"humidity-wind-two",children:[Object(j.jsx)(w.b,{className:"current-icon",style:{transform:"rotate("+(k[0].wind.deg-180)+"deg)"}}),"Wind: ",O(k[0].wind.speed)," km/h"]})]}),Object(j.jsxs)("div",{id:"clouds-rain",className:"d-flex",children:[Object(j.jsxs)("p",{id:"clouds-rain-one",children:[Object(j.jsx)(l.a,{className:"current-icon"}),"Clouds: ",k[0].clouds.all," %"]}),Object(j.jsxs)("p",{id:"clouds-rain-two",children:[Object(j.jsx)(v.a,{className:"current-icon"}),"Precipitation: ",k[0].rain?k[0].rain["1h"]:"0"," mm"]})]})]})]})]})},N=(n(47),n(60)),S=n(63),k=n(61),C=n(62);var W=function(e){var t=e.name,n=e.country,i=e.lat,a=e.lon,r=Object(c.useState)([i,a]),d=Object(s.a)(r,2),o=d[0],l=d[1],p=Object(c.useState)(null),b=Object(s.a)(p,2),h=b[0],u=b[1];return Object(c.useEffect)((function(){l([i,a]),h&&h.flyTo([i,a],6)}),[h,i,a]),Object(j.jsxs)("div",{id:"map",children:[Object(j.jsx)("div",{id:"map-title",className:"d-flex",children:Object(j.jsxs)("h4",{children:["Weather Map for ",t,", ",n]})}),Object(j.jsx)("div",{id:"map-content",children:Object(j.jsxs)(N.a,{center:o,zoom:6,scrollWheelZoom:!1,whenCreated:u,children:[Object(j.jsx)(S.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | <a href="https://openweathermap.org">OpenWeather</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(j.jsxs)(k.a,{position:"topright",children:[Object(j.jsx)(k.a.BaseLayer,{name:"Precipitation",checked:!0,children:Object(j.jsx)(S.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | <a href="https://openweathermap.org">OpenWeather</a>',url:"https://tile.openweathermap.org/map/precipitation_new/{z}/{x}/{y}.png?appid=a47d813909379619933fa6f22cd9bfd7"})}),Object(j.jsx)(k.a.BaseLayer,{name:"Temperature",children:Object(j.jsx)(S.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | <a href="https://openweathermap.org">OpenWeather</a>',url:"https://tile.openweathermap.org/map/temp_new/{z}/{x}/{y}.png?appid=a47d813909379619933fa6f22cd9bfd7"})}),Object(j.jsx)(k.a.BaseLayer,{name:"Clouds",children:Object(j.jsx)(S.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | <a href="https://openweathermap.org">OpenWeather</a>',url:"https://tile.openweathermap.org/map/clouds_new/{z}/{x}/{y}.png?appid=a47d813909379619933fa6f22cd9bfd7"})}),Object(j.jsx)(k.a.BaseLayer,{name:"Wind Speed",children:Object(j.jsx)(S.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | <a href="https://openweathermap.org">OpenWeather</a>',url:"https://tile.openweathermap.org/map/wind_new/{z}/{x}/{y}.png?appid=a47d813909379619933fa6f22cd9bfd7"})}),Object(j.jsx)(C.a,{position:o})]})]})})]})};n(48),n(49);var _=function(e){var t=e.date,n=e.offset,c=e.description,i=e.icon,a=e.min_temp,r=e.max_temp,s=e.rain,d=e.wind,o=e.sunrise,p=e.sunset;return Object(j.jsxs)("div",{id:"daily",style:{backgroundImage:"url("+h[i]+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",color:"black"},children:[Object(j.jsx)("p",{id:"daily-date",children:u("date",t,n)}),Object(j.jsxs)("div",{id:"img-description-box",children:[Object(j.jsx)("img",{src:"http://openweathermap.org/img/wn/"+i+"@2x.png",alt:"icon"+i}),Object(j.jsx)("div",{id:"daily-description",className:"d-flex",children:Object(j.jsx)("p",{children:x(c)})})]}),Object(j.jsxs)("div",{id:"temp-box",className:"d-flex",children:[Object(j.jsxs)("div",{id:"max-temp",className:"d-flex",children:[Object(j.jsx)(l.f,{className:"daily-icon"}),window.innerWidth>768?Object(j.jsxs)("p",{children:["Max: ",m(r)," \xb0C"]}):Object(j.jsxs)("p",{children:[m(r)," \xb0C"]})]}),Object(j.jsxs)("div",{id:"min-temp",className:"d-flex",children:[Object(j.jsx)(l.g,{className:"daily-icon"}),window.innerWidth>768?Object(j.jsxs)("p",{children:["Min: ",m(a)," \xb0C"]}):Object(j.jsxs)("p",{children:[m(a)," \xb0C"]})]})]}),Object(j.jsxs)("div",{id:"rain-wind-box",className:"d-flex",children:[Object(j.jsxs)("div",{id:"rain",className:"d-flex",children:[Object(j.jsx)(l.b,{className:"daily-icon"}),window.innerWidth>768?Object(j.jsxs)("p",{children:["Rain: ",f(s)," %"]}):Object(j.jsxs)("p",{children:[f(s)," %"]})]}),Object(j.jsxs)("div",{id:"wind",className:"d-flex",children:[Object(j.jsx)(l.h,{className:"daily-icon"}),window.innerWidth>768?Object(j.jsxs)("p",{children:["Wind: ",O(d)," km/h"]}):Object(j.jsxs)("p",{children:[O(d)," km/h"]})]})]}),Object(j.jsxs)("div",{id:"sun-box",className:"d-flex",children:[Object(j.jsxs)("div",{id:"sunrise",className:"d-flex",children:[Object(j.jsx)(l.d,{className:"daily-icon"}),window.innerWidth>768?Object(j.jsxs)("p",{children:["Sunrise: ",u("time",o,n)]}):Object(j.jsx)("p",{children:u("time",o,n)})]}),Object(j.jsxs)("div",{id:"sunset",className:"d-flex",children:[Object(j.jsx)(l.e,{className:"daily-icon"}),window.innerWidth>768?Object(j.jsxs)("p",{children:["Sunset: ",u("time",p,n)]}):Object(j.jsx)("p",{children:u("time",p,n)})]})]})]})},T=(n(50),n(32));var z=function(e){var t=e.alerts,n=e.name,c=e.country,i=e.offset,a=e.toggleAlert;return Object(j.jsxs)("div",{id:"alerts",className:"d-flex flex-column",children:[Object(j.jsxs)("div",{id:"alerts-title",className:"d-flex justify-content-between",children:[Object(j.jsxs)("h4",{className:"text-danger",children:["There ",1===t.length?"is":"are"," currently ",t.length," weather ",1===t.length?"alert":"alerts"," to ",n,", ",c]}),Object(j.jsx)(T.a,{className:"text-end close-alerts-icon",onClick:function(){return a()}})]}),t.map((function(e,t){return Object(j.jsxs)("div",{id:"alerts-message",className:"d-flex flex-column",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Sender:"})," ",e.sender_name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Title:"})," ",e.event]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Starting:"})," ",u("date+time",e.start,i)]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Ending:"})," ",u("date+time",e.end,i)]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Message:"})," ",e.description]}),Object(j.jsx)("p",{children:"--------------------------------------------------------------------------------------------"})]},t)}))]})},A=n(22),M=n(23);var P=function(e){var t=e.name,n=e.country,i=e.lat,a=e.lon,r=Object(c.useState)(!0),d=Object(s.a)(r,2),o=d[0],l=d[1],p=Object(c.useState)(null),b=Object(s.a)(p,2),h=b[0],u=b[1],x=Object(c.useState)([]),m=Object(s.a)(x,2),O=m[0],f=m[1],w=Object(c.useState)(!1),v=Object(s.a)(w,2),y=v[0],N=v[1];Object(c.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+i+"&lon="+a+"&units=metric&lang=en&appid=a47d813909379619933fa6f22cd9bfd7").then((function(e){return e.json()})).then((function(e){f([e]),console.log(e)})).catch((function(e){u(e)})).finally((function(){l(!1)}))}),[i,a]);var S=function(){N(!y)};return o?null:h||!Array.isArray(O)?Object(j.jsx)(g,{type:"fetch-error",log:null}):Object(j.jsxs)("div",{id:"forecast",children:[Object(j.jsxs)("div",{id:"forecast-title",className:"d-flex",children:[Object(j.jsxs)("h4",{children:["8-Day Weather Forecast for ",t,", ",n]}),O[0].hasOwnProperty("alerts")&&Object(j.jsx)(A.a,{icon:M.a,id:"faExclamation-icon",className:"text-danger",onClick:S})]}),Object(j.jsx)("div",{id:"daily-wrapper",children:O[0].daily.map((function(e,t){return Object(j.jsx)(_,{date:e.dt,offset:O[0].timezone_offset,description:e.weather[0].description,icon:e.weather[0].icon,min_temp:e.temp.min,max_temp:e.temp.max,rain:e.pop,wind:e.wind_speed,sunrise:e.sunrise,sunset:e.sunset},t)}))}),Object(j.jsx)("div",{id:"alerts-wrapper",children:y&&Object(j.jsx)(z,{alerts:O[0].alerts,name:t,country:n,offset:O[0].timezone_offset,toggleAlert:S})})]})};var E=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(""),r=Object(s.a)(a,2),d=r[0],o=r[1],l=Object(c.useState)(!0),b=Object(s.a)(l,2),h=b[0],u=b[1];Object(c.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){o("lat="+e.coords.latitude+"&lon="+e.coords.longitude),i(!1)}),(function(){o("lat=51.5085&lon=-0.1257"),i(!1)}),{enableHighAccuracy:!1,maximumAge:1/0,timeout:5e3})}),[]);var x=Object(c.useState)(""),m=Object(s.a)(x,2),O=m[0],f=m[1],g=Object(c.useState)(d),w=Object(s.a)(g,2),v=w[0],N=w[1],S=Object(c.useState)(!1),k=Object(s.a)(S,2),C=k[0],_=k[1],T=Object(c.useState)([]),z=Object(s.a)(T,2),E=z[0],B=z[1];return n?null:Object(j.jsxs)("div",{id:"results-container",className:"d-flex flex-column",children:[Object(j.jsxs)("div",{id:"search-wrapper",className:"d-flex",children:[Object(j.jsx)(p,{}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"form-outline",children:Object(j.jsx)("input",{className:"form-control",type:"text",placeholder:"Search location",value:O,onInput:function(e){return f(e.target.value)}})}),Object(j.jsx)("button",{className:"btn btn-primary search-btn",type:"button",onClick:function(){N("q="+O),u(!1)},children:Object(j.jsx)(A.a,{icon:M.b})})]})]}),Object(j.jsxs)("div",{id:"current-livemap",className:"d-flex justify-content-between",children:[Object(j.jsx)("div",{id:"current-wrapper",children:Object(j.jsx)(y,{search:h?d:v,passInfo:function(e,t,n,c,i){B({searched_for:e,name:t,country:n,lat:c,lon:i}),_(!0)}},v)}),Object(j.jsx)("div",{id:"map-wrapper",children:C&&Object(j.jsx)(W,{name:E.name,country:E.country,lat:E.lat,lon:E.lon})})]}),Object(j.jsx)("div",{id:"forecast-wrapper",children:C&&Object(j.jsx)(P,{name:E.name,country:E.country,lat:E.lat,lon:E.lon})})]})};var B=function(){return Object(j.jsxs)("div",{id:"main-container",className:"container-fluid",children:[Object(j.jsx)("div",{id:"header-container",className:"d-flex justify-content-between",children:Object(j.jsx)("h1",{children:"Weather App"})}),Object(j.jsx)(E,{}),Object(j.jsx)("div",{id:"footer-container",className:"d-flex align-items-center justify-content-center",children:Object(j.jsx)("footer",{className:"text-center",children:Object(j.jsx)("p",{children:"Weather App | A project by Victor Drumond"})})})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};n(54),n(55);r.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(B,{})}),document.getElementById("root")),F()}},[[56,1,2]]]);
//# sourceMappingURL=main.df8f7524.chunk.js.map